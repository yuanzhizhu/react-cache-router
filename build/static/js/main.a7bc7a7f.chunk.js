(this["webpackJsonpreact-cache-router"]=this["webpackJsonpreact-cache-router"]||[]).push([[0],{132:function(e,t,n){e.exports=n(235)},235:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(3),c=n.n(a),i=n(86),l=n(31);function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?d(e):t}window.history&&window.history.scrollRestoration&&"auto"===window.history.scrollRestoration&&(window.history.scrollRestoration="manual");var b=function(e){return JSON.parse(JSON.stringify(e))},y=function(e){function t(){var e,n;u(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return s(d(n=g(this,(e=f(t)).call.apply(e,[this].concat(a)))),"visible",!1),s(d(n),"matchCount",0),s(d(n),"scrollTop",0),s(d(n),"$pageElement",null),s(d(n),"pageRef",o.a.createRef()),s(d(n),"lastProps",{}),s(d(n),"lastState",{}),s(d(n),"shouldComponentUpdate",(function(){return!1})),s(d(n),"getPageVisible",(function(){return n.visible})),s(d(n),"$CacheRouteInjectPageElement",(function(e){n.$pageElement=e})),s(d(n),"getBodyScrollTop",(function(){return(document.scrollingElement||document.documentElement).scrollTop})),s(d(n),"restoreScrollInfoIfShowPage",(function(e){n.visible&&!e&&setTimeout((function(){(document.scrollingElement||document.documentElement).scrollTo(0,n.scrollTop);var e=n.$pageElement||n.pageRef.current;n.matchCount>1&&e&&e.componentDidShow&&e.componentDidShow(n.lastProps,n.lastState)}),0)})),s(d(n),"storeScrollInfoIfLeavePage",(function(e){if(!n.visible&&e){n.scrollTop=n.getBodyScrollTop();var t=n.$pageElement||n.pageRef.current;t&&t.componentWillHide&&(n.lastProps=b(t.props),n.lastState=b(t.state),t.componentWillHide())}})),s(d(n),"render",(function(){var e=n.props,t=e.component,r=h(e,["component"]);return o.a.createElement(l.b,p({},r,{children:function(e){var r=e.match,a=h(e,["match"]),c=n.visible;return r?(n.visible=!0,n.matchCount++):n.visible=!1,n.storeScrollInfoIfLeavePage(c),n.restoreScrollInfoIfShowPage(c),n.matchCount>0?o.a.createElement("div",{style:{display:n.visible?"block":"none"}},o.a.createElement(t,p({},a,{getPageVisible:n.getPageVisible,$CacheRouteInjectPageElement:n.$CacheRouteInjectPageElement,ref:n.pageRef}))):null}}))})),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,e),t}(r.Component),v=(n(236),n(67)),E=(n(93),n(65)),w=(n(94),n(66)),O=(n(149),n(92)),j=n(42),S=n(45),C=n(43),P=n(59),I=n(46),R=n(89),T=n.n(R),x=n(121),_=n(90),k=n.n(_),D=n(122),$=n.n(D);n(152);k.a.registerLanguage("javascript",$.a);var A=function(e){function t(){var e,n;Object(j.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(S.a)(this,(e=Object(C.a)(t)).call.apply(e,[this].concat(a)))).state={fileContent:""},n.componentDidMount=Object(x.a)(T.a.mark((function e(){var t,r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.props.src();case 2:t=e.sent,r=k.a.highlight("javascript",t.default).value,n.setState({fileContent:r});case 5:case"end":return e.stop()}}),e)}))),n.render=function(){var e=n.state.fileContent;return o.a.createElement("pre",null,o.a.createElement("code",{className:"hljs",dangerouslySetInnerHTML:{__html:e}}))},n}return Object(I.a)(t,e),t}(o.a.Component),L=n(123),H=n.n(L),M=/github/.test(window.location.host)?"/react-cache-router/build":"",J=function(e){return new Promise((function(t){H.a.get(e).then((function(e){return e.data})).then((function(e){e=e.map((function(e){return e.icon="".concat(M,"/").concat(e.icon,".svg"),e})),setTimeout((function(){t(e)}),1e3)}))}))},V=function(e){function t(e){var r;return Object(j.a)(this,t),(r=Object(S.a)(this,Object(C.a)(t).call(this,e))).state={showCode:!1,loading:!1,apps:[]},r.componentDidShow=function(e,t){O.a.success("\u81ea\u52a8\u6062\u590d\u6eda\u52a8\u6761\u4f4d\u7f6e")},r.componentDidMount=function(){r.setState({loading:!0}),J("/app-list.json").then((function(e){return r.setState({apps:e})})).finally((function(){r.setState({loading:!1})}))},r.componentWillHide=function(){O.a.success("\u81ea\u52a8\u4fdd\u5b58\u6eda\u52a8\u6761\u4f4d\u7f6e")},r.componentWillUnmount=function(){},r.goAppDetail=function(e){r.props.history.push("/app-detail?title=".concat(e.title,"&icon=").concat(e.icon))},r.render=function(){var e=r.state,t=e.apps,a=e.loading,c=e.showCode;return o.a.createElement(o.a.Fragment,null,o.a.createElement(w.a,{type:"primary",style:{margin:8},onClick:function(){return r.setState({showCode:!c})}},c?"\u9690\u85cf\u4ee3\u7801":"\u663e\u793a\u4ee3\u7801"),c&&o.a.createElement(A,{src:function(){return n.e(4).then(n.bind(null,239))}}),o.a.createElement(v.a,{loading:a,itemLayout:"horizontal",dataSource:t,renderItem:function(e){return o.a.createElement(v.a.Item,{onClick:function(){return r.goAppDetail(e)}},o.a.createElement(v.a.Item.Meta,{avatar:o.a.createElement(E.a,{style:{marginLeft:8},src:e.icon,size:"large"}),title:e.title,description:o.a.createElement("div",{style:{marginRight:8}},e.desc)}))}}))},e.$CacheRouteInjectPageElement(Object(P.a)(r)),r}return Object(I.a)(t,e),t}(o.a.Component),W=(n(237),n(128)),z=n(129),B=function(e){function t(){var e,r;Object(j.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(r=Object(S.a)(this,(e=Object(C.a)(t)).call.apply(e,[this].concat(c)))).state={showCode:!1,params:{}},r.componentDidMount=function(){var e=decodeURIComponent(r.props.location.search).slice(1),t={};e.split("&").forEach((function(e){var n=e.split("="),r=Object(z.a)(n,2),o=r[0],a=r[1];t[o]=a})),r.setState({params:t})},r.render=function(){var e=r.state,t=e.params,a=e.showCode;return o.a.createElement(o.a.Fragment,null,o.a.createElement(w.a,{type:"primary",style:{margin:8},onClick:function(){return r.setState({showCode:!a})}},a?"\u9690\u85cf\u4ee3\u7801":"\u663e\u793a\u4ee3\u7801"),a&&o.a.createElement(A,{src:function(){return n.e(3).then(n.bind(null,240))}}),o.a.createElement("div",{style:{textAlign:"center"}},o.a.createElement(E.a,{style:{margin:"36px 0 12px 0"},src:t.icon,size:80}),o.a.createElement("h3",null,t.title),o.a.createElement(W.a,{allowHalf:!0,defaultValue:4.5})))},r}return Object(I.a)(t,e),t}(o.a.Component);c.a.render(o.a.createElement((function(){return o.a.createElement(i.a,null,o.a.createElement(l.b,{path:"/",exact:!0,render:function(){return o.a.createElement(l.a,{to:"/app-list"})}}),o.a.createElement(y,{path:"/app-list",component:V}),o.a.createElement(l.b,{path:"/app-detail",component:B}))}),null),document.getElementById("root"))}},[[132,1,2]]]);
//# sourceMappingURL=main.a7bc7a7f.chunk.js.map