(this["webpackJsonpreact-cache-router"]=this["webpackJsonpreact-cache-router"]||[]).push([[0],{21:function(e,t,n){e.exports=n(31)},31:function(e,t,n){"use strict";n.r(t);var o=n(0),r=n.n(o),a=n(18),c=n.n(a),l=n(13),i=n(5);function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?b(e):t}window.history&&window.history.scrollRestoration&&"auto"===window.history.scrollRestoration&&(window.history.scrollRestoration="manual");var d=function(e){return JSON.parse(JSON.stringify(e))},y=function(e){function t(){var e,n;u(this,t);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return s(b(n=g(this,(e=f(t)).call.apply(e,[this].concat(a)))),"visible",!1),s(b(n),"matchCount",0),s(b(n),"scrollTop",0),s(b(n),"$pageElement",null),s(b(n),"pageRef",r.a.createRef()),s(b(n),"lastProps",{}),s(b(n),"lastState",{}),s(b(n),"shouldComponentUpdate",(function(){return!1})),s(b(n),"getPageVisible",(function(){return n.visible})),s(b(n),"$CacheRouteInjectPageElement",(function(e){n.$pageElement=e})),s(b(n),"getBodyScrollTop",(function(){return(document.scrollingElement||document.documentElement).scrollTop})),s(b(n),"restoreScrollInfoIfShowPage",(function(e){n.visible&&!e&&setTimeout((function(){(document.scrollingElement||document.documentElement).scrollTo(0,n.scrollTop);var e=n.$pageElement||n.pageRef.current;n.matchCount>1&&e&&e.componentDidShow&&e.componentDidShow(n.lastProps,n.lastState)}),0)})),s(b(n),"storeScrollInfoIfLeavePage",(function(e){if(!n.visible&&e){n.scrollTop=n.getBodyScrollTop();var t=n.$pageElement||n.pageRef.current;t&&t.componentWillHide&&(n.lastProps=d(t.props),n.lastState=d(t.state),t.componentWillHide())}})),s(b(n),"render",(function(){var e=n.props,t=e.component,o=h(e,["component"]);return r.a.createElement(i.b,p({},o,{children:function(e){var o=e.match,a=h(e,["match"]),c=n.visible;return o?(n.visible=!0,n.matchCount++):n.visible=!1,n.storeScrollInfoIfLeavePage(c),n.restoreScrollInfoIfShowPage(c),n.matchCount>0?r.a.createElement("div",{style:{display:n.visible?"block":"none"}},r.a.createElement(t,p({},a,{getPageVisible:n.getPageVisible,$CacheRouteInjectPageElement:n.$CacheRouteInjectPageElement,ref:n.pageRef}))):null}}))})),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,e),t}(o.Component),v=n(8),E=n(10),w=n(9),O=n(11),j=function(e){function t(){var e,n;Object(v.a)(this,t);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return(n=Object(E.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(a)))).componentDidShow=function(e,t){console.log("component did show"),console.log("lastProps:",e,"lastState:",t)},n.componentDidMount=function(){console.log("component did mount")},n.componentWillHide=function(){console.log("component will hide")},n.componentWillUnmount=function(){},n.render=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Page A"),r.a.createElement("div",null,r.a.createElement("input",null)),r.a.createElement("button",{onClick:function(){return n.props.history.push("/b")}},"go page b"))},n}return Object(O.a)(t,e),t}(r.a.Component),P=function(e){function t(){var e,n;Object(v.a)(this,t);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return(n=Object(E.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(a)))).render=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Page B"),r.a.createElement("div",null,r.a.createElement("input",null)),r.a.createElement("button",{onClick:function(){return n.props.history.push("/a")}},"go page a"))},n}return Object(O.a)(t,e),t}(r.a.Component);var S=function(){return r.a.createElement(l.a,null,r.a.createElement(i.b,{path:"/",exact:!0,render:function(){return r.a.createElement(i.a,{to:"/a"})}}),r.a.createElement(y,{path:"/a",component:j}),r.a.createElement(i.b,{path:"/b",component:P}))};c.a.render(r.a.createElement(S,null),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.a04e3a3d.chunk.js.map